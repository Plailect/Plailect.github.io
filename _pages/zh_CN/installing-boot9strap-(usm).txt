---
title: "安装 boot9strap（通过 USM）"
---

{% include toc title="目录内容" %}

### 必读事项

为了破解系统的 SAFE_MODE 固件，我们需要注入一个已被破解的 WiFi 配置文件到主机中。

我们可以利用 BannerBomb3 这个现有的漏洞进行以下操作。

为了做到这一点，我们使用了你的主机系统中的加密密钥（movable.sed）来构建一个 DSiWare 备份，以便于将被破解的 WiFi 配置文件注入到 WiFi 接入点列表。

一旦 WiFi 配置文件被注入，我们将会使用到 SAFE_MODE 来继续此教程。SAVE_MODE 是一个所有的 3DS 主机都存在的修复功能，之后它将被用于激活被破解的 WiFi 配置文件。

这些操作可在美、欧、日、韩版的主机上工作，你可通过系统版本号末尾的 U，E，J，K 字符来区分主机版本。

If your (Right/Left Shoulder), (D-Pad Up) or (A) buttons do not work, you will need to follow [an alternate branch of Seedminer](bannerbomb3). 如需帮助，请加入 [Nintendo Homebrew on Discord](https://discord.gg/MWxPgEp) 并使用英文求助。（请注意，如果你身处中国大陆，访问 Discord 可能需要科学上网），你也可以到译者的 [QQ 群](https://stray-soul.site/index.php/qqgroup)寻求帮助，群号为 942052497。
{: .notice--warning}

### 你需要准备点啥？

* 你在 [Seedminer](seedminer) 步骤中获得的 `movable.sed` 文件
* 最新版 [Luma3DS](https://github.com/LumaTeam/Luma3DS/releases/latest)

#### 第一步 – 准备工作

1. 如果你的主机已经被你开机了，那么将其关机
1. Open [unSAFE_MODE Exploit Injector](https://3ds.nhnarwhal.com/3dstools/unsafemode.php) on your computer
1. 点击 “选择文件” 选项，然后选择你的 movable.sed 上传
1. Click "Build and Download"
  + This will download an exploit DSiWare called `F00D43D5.bin` and a SAFE_MODE exploit data file called `usm.bin` inside of a zip archive (`unSAFE_MODE.zip`)
1. 将你的 SD 卡插入到电脑
1. 解压 Luma3DS `.zip` 里的 `boot.firm` 和 `boot.3dsx` 到你 SD 卡的根目录
  + 根目录指的是你点进 SD 卡看到的目录，你可以在这个目录下看到 Nintendo 3DS 文件夹，但请不要点进去
1. Copy `usm.bin` from `unSAFE_MODE.zip` to the root of your SD card
1. 打开内存卡的 `Nintendo 3DS` -> `<ID0>` -> `<ID1>` -> `Nintendo DSiWare` 文件夹
  + 这个 `<ID0>` 和你在 [Seedminer](seedminer) 章节中打开的一样
  + `<ID1>` 是一个在 `<ID0>` 文件夹内，另一个 32 位字符长的文件夹
  + 如果里面没有 `Nintendo DSiWare` 文件夹，请在 `<ID1>` 文件夹内创建它
1. 如果这文件夹中有其他的 DSiWare 备份文件 (`<8位字符id>.bin`)，将它们移动到你的电脑上备份
  + 这文件夹应该会成为空文件夹。 将这些文件移动到电脑上备份可防止你删除了你有意保留的东西
1. Copy the `F00D43D5.bin` file from `unSAFE_MODE.zip` to the `Nintendo DSiWare` folder

#### 第二步 – BannerBomb3

1. 将SD卡重新插入你的主机
1. 启动你的主机
1. 启动你主机上的 “系统设置(System settings)”
1. 进入到 `数据管理(Data Management)` -> `DSiWare`
1. 点击 SD 卡部分
  + Your device should show a menu with some text
1. Select "Inject haxx"
  + Your device will automatically power off

#### 第三步 – unSAFE_MODE

1. 将你的主机置于关机状态，按住 L + R + ↑ + A 按键，然后按下电源键
  + 按住这几个按钮，直到主机进入安全模式
1. 点击 “OK” 来允许更新
  + 这个步骤实际上不存在更新。 这只是触发漏洞的一部分
1. 点击 “I accept（我同意/同意する）”
1. 更新最终将失败，然后报出 `003-1099` 的错误。 这是剧本中的一部分
1. 当系统问你“你想要配置互联网设置吗？（Would you like to configure Internet settings?）”时，点击 “Yes”
1. 在接下来出现的菜单中，进入到 `连接点 1（Connection 1）` -> `更改设置（Change Settings）` -> `下一页（右箭头）` -> `代理设置（Proxy Settings）` -> `详细设置（Detailed Setup）`
  + 这里有一份[演示图像](https://uwuu.ca/images/safemode_highlighted.png)
1. 然后你应该会看到上屏提示 `B9S install SUCCESS`，然后你就可以按下任意键重启到 Luma 设置了

#### 第四步 – 设置 Luma3DS

1. 你的主机将会在重启后进入至 Luma3DS 配置菜单中
  + If you get a black screen, [follow this troubleshooting guide](troubleshooting#boot-related-issues-on-modded-devices)
1. 使用方向键和 “A” 键来启用以下设置：
  + **"Show NAND or user string in System Settings"**
1. 按下 “Start” 键保存设置并重启

At this point, your console will boot to Luma3DS by default as long as the SD card is inserted.
  + Luma3DS does not look any different from the normal HOME menu. If your console has booted into the HOME menu, it is running custom firmware.
  + On the next page, you will copy Luma3DS to internal memory so that you can boot without an SD card.

#### 第五步 – 还原 WiFi 配置文件

1. 启动你主机上的 “系统设置(System settings)”
1. 进入到 `数据管理(Data Management)` -> `DSiWare`
1. 点击 SD 卡部分
  + Your device should show a menu with some text
1. Select "Restore slots"
  + Your device will automatically power off
1. 将你的 SD 卡插入到电脑
1. 打开内存卡的 `Nintendo 3DS` -> `<ID0>` -> `<ID1>` -> `Nintendo DSiWare` 文件夹
1. 删除 Nintendo DSiWare 文件夹中的 `F00D43D5.bin` 文件

___

### 继续至[完成安装](finalizing-setup)
{: .notice--primary}
