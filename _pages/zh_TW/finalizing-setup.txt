---
title: "完成安裝"
---

{% include toc title="條目內容" %}

### 必讀事項

The file `boot.firm` is what is launched by boot9strap itself after it finishes loading off of NAND. In this case, we are using Luma3DS by [LumaTeam](https://github.com/LumaTeam/) to patch the device, allowing it to run homebrew software.

On this page, we will make critical system file backups and install the following homebrew programs:

+  **FBI** *(installs CIA formatted applications)*
+  **Anemone3DS** *(安裝自訂主題)*
+  **Checkpoint** *(備份及還原 3DS 及 DS 遊戲之存檔)*
+  **Universal-Updater** *(a homebrew app store for downloading homebrew from the 3DS over Wi-Fi)*
+ **GodMode9** *(多功能工具包，用來處理 NAND 及卡帶的相關功能)*
+  **Homebrew Launcher Loader** *(用於啟動 Homebrew Launcher)*
+  **DSP1** *(允許自製程式播放音效)*
+  **ctr-no-timeoffset** *(sets the Home Menu time to match the internal Real-Time Clock)*

It is not recommended to skip downloading any of these applications, as many of them will be used later on this page.
{: .notice--warning}

If your **New 3DS** was on firmware 2.1.0 before following this guide, you should [restore your NAND backup](godmode9-usage#restoring-a-nand-backup) before continuing.
{: .notice--warning}

If your previous CFW setup was EmuNAND-based and you wish to move the contents of your EmuNAND/RedNAND to SysNAND, follow [Move EmuNAND](move-emunand) before following this page. If you don't know what an EmuNAND is, this doesn't apply to you.
{: .notice--info}

### 必備項目

* 最新版的 [Anemone3DS](https://github.com/astronautlevel2/Anemone3DS/releases/latest) (選擇 `.cia` 檔案)
* v3.7.4 版的 [Checkpoint](https://github.com/FlagBrew/Checkpoint/releases/tag/v3.7.4) (選擇 `.cia` 檔案)
* 最新版的 [Homebrew Launcher Wrapper](https://github.com/mariohackandglitch/homebrew_launcher_dummy/releases/latest) (選擇 `.cia` 檔案)
* 最新版的 [Universal-Updater](https://github.com/Universal-Team/Universal-Updater/releases/latest) (選擇 `.cia` 檔案)

* 最新版的 [ctr-no-timeoffset](https://github.com/ihaveamac/ctr-no-timeoffset/releases/latest) (選擇 `.3dsx` 檔案)
* 最新版的 [DSP1](https://github.com/zoogie/DSP1/releases/latest) (選擇 `.3dsx` 檔案)

* 最新版的 [FBI 管理器](https://github.com/Steveice10/FBI/releases/latest) (選擇 `.cia` 及 `.3dsx` 檔案)
* 最新版的 [GodMode9](https://github.com/d0k3/GodMode9/releases/latest) (選擇 GodMode9 `.zip` 檔案)

### 操作說明

#### 第一節 — 準備工作

1. 關閉您的主機
1. 將 SD 卡插入至電腦中
1. 在 SD 卡的根目錄底下，建立一個新資料夾 `cias`
1. Copy all of the CIA files (`Anemone3DS.cia`, `Checkpoint.cia`, `FBI.cia`, `Homebrew_Launcher.cia`, and `Universal-Updater.cia`) to the `/cias/` folder on your SD card
1. 在 SD 卡的根目錄底下建立一個新資料夾 `3ds`
    + 本資料夾中含有自製程式及其資料；本資料夾與主機自動產生的 `Nintendo 3DS` 不一樣
1. Copy all of the 3DSX files (`ctr-no-timeoffset.3dsx`, `DSP1.3dsx`, and `FBI.3dsx`) to the `/3ds/` folder on your SD card
1. 在 SD 卡中的 `luma` 資料夾中建立一個另一個新資料夾 `payloads`
1. 解壓 GodMode9 `.zip` 中的 `GodMode9.firm` 檔案到 SD 卡的 `/luma/payloads/` 資料夾中
1. 解壓 GodMode9 `.zip` 中的 `gm9` 資料夾到 SD 卡的根目錄底下
1. 將 SD 卡插回主機中
1. 啟動您的主機

    ![]({{ "/images/screenshots/finalizing-root-layout.png" | absolute_url }})
    {: .notice--info}
    ![]({{ "/images/screenshots/godmode9-location.png" | absolute_url }})
    {: .notice--info}

#### 第二節 — 更新系統

1. 到主機主選單中更新您的主機，到『系統設置 (System Settings)』、『其他設置 (Other Settings)』底下選擇『系統更新 (System Update)』
  + 在安裝 B9S + Luma 後，進行系統更新是很安全的
  + 升級程式可能會告訴你『你的主機已經是最新系统了』而不是繼續升級 如您已經升級到了最新的話，這是正常的；請繼續下面的步驟
  + 如果過程中出現錯誤，試試到 DNS 設定底下將設定改成『自動 (auto)』
  + If this still gives you an error, [follow this troubleshooting guide](troubleshooting#unable-to-update-device)

#### 第三節 — Homebrew Launcher

1. 啟動『下載通信(Download Play)』程式 (![]({{ "/images/download-play-icon.png" | absolute_url }}){: height="24px" width="24px"})
1. Wait until you see the `Nintendo 3DS` and `Nintendo DS` buttons
1. 同時按下『L』+『下』+『Select』鍵以啟動 Rosalina 選單
1. 選擇『Miscellaneous options』
1. 選擇『Switch the hb. title to the current app.』
1. 按『B』繼續
1. 按『B』回到 Rosalina 主選單
1. 按『B』退出 Rosalina 選單
1. 按『Home』鍵，並關閉『下載通信 (Download Play)』程式
1. 啟動『下載通信 (Download Play)』程式
1. 您的主機應該就會啟動 Homebrew Launcher 了

#### Section IV - RTC and DSP Setup
1. 透過 Homebrew 清單啟動 ctr-no-timeoffset
1. 按『A』選擇將數值設成 0
  + 這將會把系統時間設為與 RTC 相同的數值
1. 按「Start」鍵回到 Homebrew Launcher 中
1. 啟動 DSP1
1. Once it has completed, press (B) to self-delete the app and return to the Homebrew Launcher

#### Section V - Installing CIAs
1. 於 Homebrew 清單內啟動 FBI 管理器
1. 移動至 `SD` -> `cias`
1. 選擇『\<current directory>』
1. 選擇『Install and delete all CIAs』(安裝並刪除所有的 CIA 檔)，並按下『A』確認
1. 按『Home』鍵，並關閉『下載通信 (Download Play)』程式

#### 第六節 — 安裝 Luma3DS 至 CTRNAND

1. 關閉您的主機
1. 按下並按住「Start」鍵，按住按鈕的同時，將您的主機開機。 這將會啟動 GodMode9
  + 如果沒有進入 GodMode9，請確保 `GodMode9.firm` 檔案已存在於 `/luma/payloads/` 資料夾中，並確保 `payload` 沒有拼錯。
1. 當提示重要檔案備份時，按下『A』繼續，並在完畢後按下『A』繼續
1. 當提示修正 RTC 日期及時間時，按『A』繼續並設定日期及時間，再按『A』繼續
1. 按『Home』鍵以叫出主選單
1. 選擇『Scripts...』
1. 選擇『GM9Megascript』
1. 選擇『Scripts from Plailect's Guide』
1. 選擇『Setup Luma3DS to CTRNAND』
1. 如提示時，按下『A』繼續
1. 按「A」鍵解鎖 SysNAND (lvl1) 的寫入保護，然後按下提示的按鍵組合
1. 按『A』 繼續

#### 第七節 — 清理 SD 卡

1. 選擇『Cleanup SD Card』
1. 如提示時，按下『A』繼續
1. 按『A』 繼續
1. 按『B』回到主選單

#### 第八節 — 備份重要檔案

1. 選擇『Backup Options』
1. 選擇『SysNAND Backup』
1. 按 『A』 確認
  + 此過程將花費一些時間
  + 若您遇見錯誤訊息，請確保您的 SD 卡至少有 1.3GB 的剩餘空間。
1. 按『A』 繼續
1. 按『B』回到主選單
1. 選擇『Dump Options』
1. 選擇『Dump Boot9.bin & Boot11.bin』
1. 如提示時，按下『A』繼續
1. 按『A』 繼續
1. 按『B』回到主選單
1. 選擇『Exit』
1. 如提示時，按下『A』取消檔案寫入鎖定
1. 移動至 `[S:] SYSNAND VIRTUAL`
1. 選擇 `essential.exefs`，並按『A』選擇
1. 選擇『Copy to 0:/gm9/out』
  + 如果你看到『Destination already exists (目的地有相同檔名的檔案)』，那麼請選擇『Overwrite file(s) (覆寫檔案)』並按下「A」鍵
1. 按『A』 繼續
1. 按『Home』鍵以叫出主選單
1. 選擇「Poweroff system」關機
1. 將 SD 卡插入至電腦中
1. 從 SD 卡的 `/gm9/out/` 資料夾中複製 `<date>_<serialnumber>_sysnand_###.bin`、`<date>_<serialnumber>_sysnand_###.bin.sha`、`<serialnumber>_boot9_###.bin`、`<serialnumber>_boot11_###.bin` 及 `essential.exefs` 至電腦中安全的地方
  + 建議備份至各個不同的地方(比如雲端硬碟中)
  + 這些備份檔案可於未來您磚機時用來修復系統檔案
1. 在複製完畢後，從 SD 卡的 `/gm9/out/` 資料夾中刪除 `<date>_<serialnumber>_sysnand_###.bin` 及 `<date>_<serialnumber>_sysnand_###.bin.sha`
1. 將 SD 卡插回主機中
1. 啟動您的主機

___

大功告成！ Custom firmware is now fully configured on your device.
{: .notice--success}

#### 額外訊息以及注意事項

{% capture notice-6 %}
Here are some keycombos that you should know:

- Holding (Select) on boot will launch the Luma3DS configuration menu.
- Holding (Start) on boot will launch GodMode9, or if you have multiple payloads in `/luma/payloads/`, the Luma3DS chainloader.
- By default, pressing (Left Shoulder) + (Down D-Pad) + (Select) while in 3DS mode will open the Rosalina menu, where you can check system information, take screenshots, enable cheats, and more. This can be changed from the Rosalina menu.
- Holding (Start) + (Select) + (X) on boot will dump `boot9.bin`, `boot11.bin`, and `otp.bin` to the `boot9strap` folder on your SD card.
{% endcapture %}

<div class="notice--info">{{ notice-6 | markdownify }}</div>

See [here](https://3ds.eiphax.tech/tips.html) for some suggestions on things to do with custom firmware.
{: .notice--info}

For information on using GodMode9's various features, check out the [GodMode9 Usage](godmode9-usage) and [Dumping Titles and Game Cartridges](dumping-titles-and-game-cartridges) pages.
{: .notice--info}